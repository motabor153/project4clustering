<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>World Happiness Clustering Atlas</title>
  <link href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:wght@400;700&amp;family=Inter:wght@300;400;500;600&amp;display=swap" rel="stylesheet">
  <script src="/_sdk/element_sdk.js"></script>
  <style>
    body {
      box-sizing: border-box;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html, body {
      height: 100%;
      scroll-behavior: smooth;
    }

    body {
      font-family: 'Inter', sans-serif;
      background: #F2EDE6;
      color: #1E1E1E;
      line-height: 1.6;
      overflow-x: hidden;
    }

    /* Hero Section */
    .hero {
      position: sticky;
      top: 0;
      height: 100%;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      padding: 4rem 2rem;
      background: linear-gradient(135deg, #F2EDE6 0%, #E8E3DC 100%);
      overflow: hidden;
      z-index: 1;
    }

    .hero-bg {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      opacity: 0.08;
      pointer-events: none;
    }

    .dotted-lines {
      position: absolute;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      pointer-events: none;
    }

    .dotted-line {
      position: absolute;
      width: 200%;
      height: 1px;
      background-image: linear-gradient(to right, #3D5A40 2px, transparent 2px);
      background-size: 12px 1px;
      animation: drift 60s linear infinite;
    }

    .dotted-line:nth-child(1) { top: 20%; animation-duration: 50s; }
    .dotted-line:nth-child(2) { top: 40%; animation-duration: 70s; animation-delay: -10s; }
    .dotted-line:nth-child(3) { top: 60%; animation-duration: 55s; animation-delay: -20s; }
    .dotted-line:nth-child(4) { top: 80%; animation-duration: 65s; animation-delay: -30s; }

    @keyframes drift {
      from { transform: translateX(-50%); }
      to { transform: translateX(0); }
    }

    .hero-content {
      position: relative;
      z-index: 2;
      max-width: 900px;
    }

    .hero h1 {
      font-family: 'Libre Baskerville', serif;
      font-size: 3.5rem;
      font-weight: 700;
      color: #1E1E1E;
      margin-bottom: 1.5rem;
      line-height: 1.2;
    }

    .hero p {
      font-size: 1.25rem;
      color: #A9A9A9;
      margin-bottom: 2.5rem;
      font-weight: 300;
    }

    /* Ensure the hero subtitle text is black (overrides inline styles set by scripts) */
    #hero-subtitle {
      color: #000000 !important;
    }

    /* Make key descriptive text black so the listed paragraphs read in black
       - covers problem/subtitle paragraphs, card descriptions, strip texts, and cluster trait paragraphs
       - uses !important to override inline styles applied at runtime by the page script */
    .section-subtitle,
    .card-text,
    .strip-text,
    .cluster-traits {
      color: #000000 !important;
    }

    .cta-buttons {
      display: flex;
      gap: 1rem;
      justify-content: center;
      flex-wrap: wrap;
    }

    .cta-btn {
      padding: 0.875rem 2rem;
      background: #3D5A40;
      color: #F2EDE6;
      text-decoration: none;
      border-radius: 4px;
      font-weight: 500;
      transition: all 0.3s ease;
      box-shadow: 0 2px 8px rgba(61, 90, 64, 0.2);
    }

    .cta-btn:hover {
      background: #2d4430;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(61, 90, 64, 0.3);
    }

    /* Content Container */
    .content {
      position: relative;
      z-index: 2;
      background: #F2EDE6;
      padding: 4rem 2rem;
    }

    .section {
      max-width: 1200px;
      margin: 0 auto 6rem auto;
    }

    .section-title {
      font-family: 'Libre Baskerville', serif;
      font-size: 2.5rem;
      color: #1E1E1E;
      margin-bottom: 2rem;
      padding-bottom: 1rem;
      border-bottom: 2px solid #3D5A40;
    }

    .section-subtitle {
      font-size: 1.125rem;
      color: #A9A9A9;
      margin-bottom: 2rem;
    }

    /* Callout */
    .callout {
      background: #fff;
      border-left: 4px solid #3D5A40;
      padding: 1.5rem;
      margin: 2rem 0;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
      border-radius: 4px;
    }

    .callout-text {
      font-size: 0.95rem;
      color: #1E1E1E;
      font-weight: 500;
    }

    /* Cards Grid */
    .cards-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 1.5rem;
      margin: 2rem 0;
    }

    .card {
      background: #fff;
      padding: 2rem;
      border-radius: 8px;
      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .card:hover {
      transform: translateY(-4px);
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    }

    .card-icon {
      font-size: 2rem;
      margin-bottom: 1rem;
    }

    .card-title {
      font-family: 'Libre Baskerville', serif;
      font-size: 1.25rem;
      color: #1E1E1E;
      margin-bottom: 0.75rem;
    }

    .card-text {
      font-size: 0.95rem;
      color: #A9A9A9;
      line-height: 1.6;
    }

    /* Method Tags */
    .method-tags {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
      margin: 2rem 0;
    }

    .tag {
      background: #3D5A40;
      color: #F2EDE6;
      padding: 0.5rem 1rem;
      border-radius: 20px;
      font-size: 0.875rem;
      font-weight: 500;
    }

    /* Visual Placeholder */
    .visual-placeholder {
      background: #fff;
      border: 2px dashed #A9A9A9;
      border-radius: 8px;
      padding: 3rem;
      text-align: center;
      margin: 2rem 0;
      min-height: 300px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }

    .visual-placeholder-icon {
      font-size: 3rem;
      margin-bottom: 1rem;
      opacity: 0.5;
    }

    .visual-caption {
      font-size: 0.95rem;
      color: #000000 !important;
      font-style: italic;
      margin-top: 1rem;
    }

    /* Responsive images for visual placeholders (e.g., correlation heatmap) */
    .visual-image {
      max-width: 100%;
      height: auto;
      margin: 1rem 0;
      border-radius: 6px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    }

    /* Insight Block */
    .insight-block {
      background: linear-gradient(135deg, #3D5A40 0%, #2d4430 100%);
      color: #F2EDE6;
      padding: 2rem;
      border-radius: 8px;
      margin: 2rem 0;
      box-shadow: 0 4px 16px rgba(61, 90, 64, 0.3);
    }

    .insight-block p {
      font-size: 1.125rem;
      line-height: 1.8;
      margin: 0;
    }

    /* Cluster Cards */
    .cluster-card {
      background: #fff;
      padding: 2.5rem;
      border-radius: 8px;
      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);
      margin-bottom: 2rem;
      border-top: 4px solid #3D5A40;
    }

    .cluster-header {
      display: flex;
      align-items: center;
      gap: 1rem;
      margin-bottom: 1.5rem;
    }

    .cluster-icon {
      font-size: 2.5rem;
    }

    .cluster-title {
      font-family: 'Libre Baskerville', serif;
      font-size: 1.75rem;
      color: #1E1E1E;
    }

    .cluster-traits {
      font-size: 1rem;
      color: #1E1E1E;
      margin-bottom: 1.5rem;
      line-height: 1.8;
    }

    .country-chips {
      display: flex;
      gap: 0.75rem;
      flex-wrap: wrap;
    }

    .chip {
      background: #F2EDE6;
      color: #1E1E1E;
      padding: 0.5rem 1rem;
      border-radius: 20px;
      font-size: 0.875rem;
      font-weight: 500;
      border: 1px solid #A9A9A9;
    }

    /* Two Column Layout */
    .two-column {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
      margin: 2rem 0;
    }

    .column-card {
      background: #fff;
      padding: 2rem;
      border-radius: 8px;
      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);
    }

    .column-title {
      font-family: 'Libre Baskerville', serif;
      font-size: 1.5rem;
      color: #1E1E1E;
      margin-bottom: 1rem;
    }

    .column-text {
      font-size: 0.95rem;
      color: #1E1E1E;
      line-height: 1.8;
      margin-bottom: 1rem;
    }

    .pill-list {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
      margin-top: 1.5rem;
    }

    .pill {
      background: #F2EDE6;
      padding: 0.75rem 1rem;
      border-radius: 6px;
      font-size: 0.9rem;
      color: #1E1E1E;
      border-left: 3px solid #3D5A40;
    }

    /* Strip Layout */
    .strip {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1.5rem;
      margin: 2rem 0;
    }

    .strip-item {
      background: #fff;
      padding: 1.5rem;
      border-radius: 8px;
      text-align: center;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    }

    .strip-title {
      font-weight: 600;
      color: #3D5A40;
      margin-bottom: 0.5rem;
    }

    .strip-text {
      font-size: 0.9rem;
      color: #A9A9A9;
    }

    /* Footer */
    footer {
      background: #1E1E1E;
      color: #F2EDE6;
      padding: 3rem 2rem;
      text-align: center;
    }

    footer p {
      font-size: 0.95rem;
      opacity: 0.8;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .hero h1 {
        font-size: 2.25rem;
      }

      .hero p {
        font-size: 1rem;
      }

      .section-title {
        font-size: 2rem;
      }

      .cards-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body><!-- Hero Section -->
  <section class="hero">
   <div class="hero-bg">
    <svg width="100%" height="100%" viewbox="0 0 1200 800" xmlns="http://www.w3.org/2000/svg"><path d="M100,400 Q300,350 500,400 T900,400 Q1000,380 1100,400" stroke="#3D5A40" stroke-width="1" fill="none" opacity="0.3" /> <path d="M150,300 Q350,280 550,300 T950,300" stroke="#3D5A40" stroke-width="1" fill="none" opacity="0.2" /> <path d="M200,500 Q400,520 600,500 T1000,500" stroke="#3D5A40" stroke-width="1" fill="none" opacity="0.2" /> <circle cx="300" cy="350" r="3" fill="#3D5A40" opacity="0.4" /> <circle cx="600" cy="400" r="3" fill="#3D5A40" opacity="0.4" /> <circle cx="900" cy="380" r="3" fill="#3D5A40" opacity="0.4" />
    </svg>
   </div>
   <div class="dotted-lines">
    <div class="dotted-line"></div>
    <div class="dotted-line"></div>
    <div class="dotted-line"></div>
    <div class="dotted-line"></div>
   </div>
   <div class="hero-content">
    <h1 id="hero-title">Clustering Global Well-Being: Country Archetypes from the World Happiness Data (2019)</h1>
    <p id="hero-subtitle">Unsupervised learning to discover national well-being profiles and what distinguishes them.</p>
  <div class="cta-buttons"><a href="#data" class="cta-btn">Data &amp; Methods</a> <a href="#clusters" class="cta-btn">Clusters</a> <a href="#impact" class="cta-btn">Impact</a> <a href="https://colab.research.google.com/drive/1SE-BVXDBlfvdZxFcSGAG4yufEERchrQ5?usp=sharing" class="cta-btn" target="_blank" rel="noopener noreferrer">Google Colab Code</a>
  </div>
   </div>
  </section><!-- Content Sections -->
  <div class="content"><!-- Problem & Questions -->
   <section class="section">
    <h2 class="section-title" id="problem-title">Problem &amp; Research Questions</h2>
    <p class="section-subtitle">Understanding the diversity of national well-being requires moving beyond simple rankings. This project applies unsupervised learning to identify distinct country archetypes based on the key contributors to happiness: GDP per capita, social support, healthy life expectancy, freedom to make life choices, generosity, and perceptions of corruption.</p>
    <p class="section-subtitle">My research asks: <strong>What archetypes emerge when we cluster countries by these dimensions?</strong> And more importantly, <strong>what do these patterns reveal about the interplay between prosperity, institutions, and well-being?</strong></p>
    <div class="callout">
     <p class="callout-text">üìä Methodology: Unsupervised learning using k-means clustering | Dataset: World Happiness Report 2019</p>
    </div>
   </section><!-- Data Section -->
   <section class="section" id="data">
    <h2 class="section-title" id="data-title">Data &amp; Variables</h2>
    <p class="section-subtitle">Source: World Happiness Report via Kaggle (2019 slice)</p>
    <div class="cards-grid">
     <div class="card">
      <div class="card-icon">
       üí∞
      </div>
      <h3 class="card-title">GDP per Capita</h3>
      <p class="card-text">Economic output per person, reflecting material prosperity and resource availability.</p>
     </div>
     <div class="card">
      <div class="card-icon">
       ü§ù
      </div>
      <h3 class="card-title">Social Support</h3>
      <p class="card-text">Perceived availability of someone to count on in times of trouble.</p>
     </div>
     <div class="card">
      <div class="card-icon">
       üè•
      </div>
      <h3 class="card-title">Healthy Life Expectancy</h3>
      <p class="card-text">Expected years of healthy living, indicating healthcare quality and public health.</p>
     </div>
     <div class="card">
      <div class="card-icon">
       üó≥Ô∏è
      </div>
      <h3 class="card-title">Freedom to Make Life Choices</h3>
      <p class="card-text">Perceived autonomy in making key life decisions.</p>
     </div>
     <div class="card">
      <div class="card-icon">
       ‚ù§Ô∏è
      </div>
      <h3 class="card-title">Generosity</h3>
      <p class="card-text">Charitable giving behavior, reflecting social cohesion and altruism.</p>
     </div>
     <div class="card">
      <div class="card-icon">
       ‚öñÔ∏è
      </div>
      <h3 class="card-title">Perceptions of Corruption</h3>
      <p class="card-text">Trust in government and business institutions; lower values indicate higher trust.</p>
     </div>
    </div>
    <div class="method-tags"><span class="tag">Year: 2019</span> <span class="tag">Winsorization: 1%/99% for Generosity &amp; Corruption</span> <span class="tag">Standardization: Z-score normalization</span>
    </div>
   </section><!-- EDA Highlights -->
   <section class="section">
    <h2 class="section-title">Exploratory Data Analysis</h2>
    <div class="visual-placeholder">
    <img src="assets/correlation.png" alt="Correlation Heatmap" class="visual-image">
     <h3>Correlation Heatmap</h3>
     <p class="visual-caption">Strong positive correlations among GDP per capita, healthy life expectancy, and social support. Generosity shows weaker relationships with other variables.</p>
    </div>
    <div class="visual-placeholder">
  <img src="assets/pairwise.png" alt="Pair Plot Matrix" class="visual-image">
     <h3>Pair Plot Matrix</h3>
     <p class="visual-caption">Clear linear trends between happiness score and GDP, life expectancy, and social support. Generosity exhibits weaker, more scattered relationships.</p>
    </div>
    <div class="visual-placeholder">
  <img src="assets/biplot.png" alt="PCA Biplot" class="visual-image">
     <h3>PCA Biplot</h3>
     <p class="visual-caption">PC1 (Prosperity &amp; Social Support) and PC2 (Governance &amp; Freedom) capture the primary axes of variation. Countries separate primarily along the prosperity dimension.</p>
    </div>
    <div class="insight-block">
     <p><strong>Key Insight:</strong> Country separation occurs mainly along two dimensions: Prosperity &amp; Social Support (PC1) and Governance &amp; Freedom (PC2). This suggests that well-being archetypes are shaped by both economic development and institutional quality.</p>
    </div>
   </section><!-- Modeling -->
   <section class="section">
    <h2 class="section-title">Model Selection</h2>
    <p class="section-subtitle">I applied k-means clustering and evaluated multiple values of k using three complementary metrics to determine the optimal number of clusters.</p>
    <div class="strip">
     <div class="strip-item">
      <div class="strip-title">
       Elbow Method
      </div>
      <p class="strip-text">Within-cluster sum of squares shows a clear "knee" at k=3‚Äì4, suggesting diminishing returns beyond 3 clusters.</p>
     </div>
     <div class="strip-item">
      <div class="strip-title">
       Silhouette Score
      </div>
      <p class="strip-text">Silhouette coefficient peaks at k=3, indicating well-separated and cohesive clusters.</p>
     </div>
     <div class="strip-item">
      <div class="strip-title">
       Stability (ARI)
      </div>
      <p class="strip-text">Adjusted Rand Index across bootstrap samples is highest at k=3, confirming robust cluster assignments.</p>
     </div>
    </div>
    <div class="callout">
     <p class="callout-text">‚úÖ Final Selection: k=3 clusters based on convergent evidence from elbow, silhouette, and stability analyses.</p>
    </div>
   </section><!-- Archetypes -->
   <section class="section" id="clusters">
    <h2 class="section-title" id="clusters-title">Country Archetypes</h2>
    <p class="section-subtitle">Three distinct well-being profiles emerged from the clustering analysis, each characterized by unique combinations of prosperity, social support, governance, and institutional trust.</p>
    <div class="cluster-card">
     <div class="cluster-header">
      <div class="cluster-icon">
       üåü
      </div>
      <h3 class="cluster-title">Cluster 0: Prosperous &amp; High-Trust</h3>
     </div>
     <p class="cluster-traits"><strong>Characteristics:</strong> Highest GDP per capita, social support, and healthy life expectancy. Greater freedom to make life choices and lower perceptions of corruption. Mean happiness score ‚âà 6.7.</p>
     <p class="cluster-traits"><strong>Profile:</strong> These nations combine economic prosperity with strong institutions and high social trust. Citizens enjoy both material well-being and robust civic freedoms.</p>
     <div class="country-chips"><span class="chip">üá≥üá¥ Norway</span> <span class="chip">üá®üá≠ Switzerland</span> <span class="chip">üá∏üá¨ Singapore</span> <span class="chip">üáÆüá™ Ireland</span> <span class="chip">üá∂üá¶ Qatar</span>
     </div>
    </div>
    <div class="cluster-card">
     <div class="cluster-header">
      <div class="cluster-icon">
       ‚öñÔ∏è
      </div>
      <h3 class="cluster-title">Cluster 1: Affluent/Mid with Lower Freedom &amp; Trust</h3>
     </div>
     <p class="cluster-traits"><strong>Characteristics:</strong> Mid-to-high prosperity and health outcomes, but relatively lower freedom, generosity, and institutional trust. Mean happiness score ‚âà 5.6.</p>
     <p class="cluster-traits"><strong>Profile:</strong> Economically developed nations where governance quality and civic freedoms lag behind material prosperity. This suggests that wealth alone doesn't guarantee the highest well-being.</p>
     <div class="country-chips"><span class="chip">üáØüáµ Japan</span> <span class="chip">üá∞üá∑ South Korea</span> <span class="chip">üá™üá∏ Spain</span> <span class="chip">üá´üá∑ France</span> <span class="chip">üá∞üáº Kuwait</span>
     </div>
    </div>
    <div class="cluster-card">
     <div class="cluster-header">
      <div class="cluster-icon">
       üå±
      </div>
      <h3 class="cluster-title">Cluster 2: Developing/Fragile Contexts</h3>
     </div>
     <p class="cluster-traits"><strong>Characteristics:</strong> Lower GDP per capita, social support, and healthy life expectancy. Modest freedom and mixed institutional trust. Mean happiness score ‚âà 4.3.</p>
     <p class="cluster-traits"><strong>Profile:</strong> Nations facing development challenges across multiple dimensions. Improvements in any single area‚Äîeconomic growth, healthcare, or governance‚Äîcould yield significant well-being gains.</p>
     <div class="country-chips"><span class="chip">üáÆüá≥ India</span> <span class="chip">üá≥üá¨ Nigeria</span> <span class="chip">üáµüá∞ Pakistan</span> <span class="chip">üá¨üá≠ Ghana</span> <span class="chip">üáøüá≤ Zambia</span>
     </div>
    </div>
    <div class="visual-placeholder">
    <img src="assets/projection.png" alt="Cluster Projection" class="visual-image">
     <h3>Cluster Profile Heatmap (Z-scores)</h3>
     <p class="visual-caption">PCA projection of the three clusters along the first two principal components, revealing how countries separate in the reduced dimensional space defined by prosperity, social support, governance, and freedom.</p>
    </div>
    <div class="insight-block">
     <p><strong>Critical Finding:</strong> Among higher-income nations, governance quality and freedom to make life choices are the key differentiators between the top-performing cluster (Prosperous &amp; High-Trust) and the mid-tier cluster (Affluent/Mid with Lower Freedom &amp; Trust). Economic prosperity is necessary but not sufficient for maximum well-being.</p>
    </div>
   </section><!-- Impact & Ethics -->
   <section class="section" id="impact">
    <h2 class="section-title" id="impact-title">Impact &amp; Ethical Considerations</h2>
    <div class="two-column">
     <div class="column-card">
      <h3 class="column-title">Benefits &amp; Applications</h3>
      <p class="column-text"><strong>Policy Targeting Beyond GDP:</strong> Archetypes reveal that prosperity alone doesn't guarantee well-being. Policymakers can identify which dimensions (governance, freedom, social support) require attention.</p>
      <p class="column-text"><strong>Peer Benchmarking:</strong> Countries can compare themselves to archetype peers rather than global rankings, enabling more relevant and actionable insights.</p>
      <p class="column-text"><strong>Early Warning System:</strong> Shifts in archetype membership over time could signal emerging challenges or improvements in national well-being.</p>
     </div>
     <div class="column-card">
      <h3 class="column-title">Risks &amp; Limitations</h3>
      <p class="column-text"><strong>Stereotyping &amp; Reification:</strong> Archetypes are statistical constructs, not fixed national identities. Countries are diverse and dynamic.</p>
      <p class="column-text"><strong>Causal Overreach:</strong> Clustering reveals associations, not causal mechanisms. Policy interventions require deeper causal analysis.</p>
      <p class="column-text"><strong>League-Table Shaming:</strong> Rankings can stigmatize lower-performing nations without acknowledging structural constraints or historical context.</p>
      <p class="column-text"><strong>Measurement Bias:</strong> Survey data may reflect cultural response patterns and institutional capacity to collect reliable data.</p>
     </div>
    </div>
    <div class="callout">
     <p class="callout-text"><strong>Mitigations:</strong></p>
     <div class="pill-list">
      <div class="pill">
       Present archetypes as "this snapshot in time" rather than permanent labels
      </div>
      <div class="pill">
       Emphasize within-cluster diversity and acknowledge outliers
      </div>
      <div class="pill">
       Pair clustering insights with qualitative case studies and causal inference methods
      </div>
      <div class="pill">
       Communicate uncertainty and measurement limitations transparently
      </div>
      <div class="pill">
       Frame findings as opportunities for learning and improvement, not judgment
      </div>
     </div>
    </div>
   </section>
  <section class="section" id="references">
   <h2 class="section-title">References</h2>
   <p class="section-subtitle">Helliwell, John F., and Shun Wang. "The state of world happiness." World happiness report (2012): 10-57.</p>
  </section>
  </div><!-- Footer -->
  <footer>
   <p id="footer-text">World Happiness Clustering Atlas | Data Mining Project 2019 | Unsupervised Learning for Global Well-Being</p>
  </footer>
  <script>
    const defaultConfig = {
      background_color: '#F2EDE6',
      surface_color: '#FFFFFF',
      text_color: '#1E1E1E',
      accent_color: '#3D5A40',
      secondary_text_color: '#A9A9A9',
      font_family: 'Inter',
      font_size: 16,
      hero_title: 'Clustering Global Well-Being: Country Archetypes from the World Happiness Data (2019)',
      hero_subtitle: 'Unsupervised learning to discover national well-being profiles and what distinguishes them.',
      problem_title: 'Problem & Research Questions',
      data_title: 'Data & Variables',
      clusters_title: 'Country Archetypes',
      impact_title: 'Impact & Ethical Considerations',
      footer_text: 'World Happiness Clustering Atlas | Data Mining Project 2019 | Unsupervised Learning for Global Well-Being'
    };

    async function onConfigChange(config) {
      const bgColor = config.background_color || defaultConfig.background_color;
      const surfaceColor = config.surface_color || defaultConfig.surface_color;
      const textColor = config.text_color || defaultConfig.text_color;
      const accentColor = config.accent_color || defaultConfig.accent_color;
      const secondaryTextColor = config.secondary_text_color || defaultConfig.secondary_text_color;
      const customFont = config.font_family || defaultConfig.font_family;
      const baseSize = config.font_size || defaultConfig.font_size;

      const baseFontStack = 'sans-serif';
      const serifFontStack = "'Libre Baskerville', serif";

      document.body.style.background = bgColor;
      document.body.style.color = textColor;
      document.body.style.fontFamily = `${customFont}, ${baseFontStack}`;
      document.body.style.fontSize = `${baseSize}px`;

      document.querySelector('.hero').style.background = `linear-gradient(135deg, ${bgColor} 0%, ${surfaceColor} 100%)`;
      document.querySelector('.content').style.background = bgColor;

      const allCards = document.querySelectorAll('.card, .column-card, .strip-item, .cluster-card');
      allCards.forEach(card => {
        card.style.background = surfaceColor;
        card.style.color = textColor;
      });

      const allButtons = document.querySelectorAll('.cta-btn');
      allButtons.forEach(btn => {
        btn.style.background = accentColor;
        btn.style.color = bgColor;
      });

      const allTags = document.querySelectorAll('.tag');
      allTags.forEach(tag => {
        tag.style.background = accentColor;
        tag.style.color = bgColor;
      });

      const allInsightBlocks = document.querySelectorAll('.insight-block');
      allInsightBlocks.forEach(block => {
        block.style.background = `linear-gradient(135deg, ${accentColor} 0%, ${textColor} 100%)`;
        block.style.color = bgColor;
      });

      const allCallouts = document.querySelectorAll('.callout');
      allCallouts.forEach(callout => {
        callout.style.background = surfaceColor;
        callout.style.borderLeftColor = accentColor;
      });

      const allPills = document.querySelectorAll('.pill');
      allPills.forEach(pill => {
        pill.style.background = bgColor;
        pill.style.borderLeftColor = accentColor;
        pill.style.color = textColor;
      });

      const allChips = document.querySelectorAll('.chip');
      allChips.forEach(chip => {
        chip.style.background = bgColor;
        chip.style.color = textColor;
        chip.style.borderColor = secondaryTextColor;
      });

      const allSectionTitles = document.querySelectorAll('.section-title, .hero h1, .cluster-title, .column-title, .card-title');
      allSectionTitles.forEach(title => {
        title.style.fontFamily = serifFontStack;
        title.style.color = textColor;
      });

      document.querySelector('.hero h1').style.fontSize = `${baseSize * 2.19}px`;
      document.querySelector('.hero p').style.fontSize = `${baseSize * 1.25}px`;
      document.querySelector('.hero p').style.color = secondaryTextColor;

      const allSectionTitlesMain = document.querySelectorAll('.section-title');
      allSectionTitlesMain.forEach(title => {
        title.style.fontSize = `${baseSize * 1.56}px`;
        title.style.borderBottomColor = accentColor;
      });

      const allSubtitles = document.querySelectorAll('.section-subtitle');
      allSubtitles.forEach(subtitle => {
        subtitle.style.fontSize = `${baseSize * 1.125}px`;
        subtitle.style.color = secondaryTextColor;
      });

      const allCardTexts = document.querySelectorAll('.card-text, .column-text, .strip-text');
      allCardTexts.forEach(text => {
        text.style.fontSize = `${baseSize * 0.95}px`;
        text.style.color = secondaryTextColor;
      });

      const allClusterTraits = document.querySelectorAll('.cluster-traits');
      allClusterTraits.forEach(trait => {
        trait.style.fontSize = `${baseSize}px`;
        trait.style.color = textColor;
      });

      document.getElementById('hero-title').textContent = config.hero_title || defaultConfig.hero_title;
      document.getElementById('hero-subtitle').textContent = config.hero_subtitle || defaultConfig.hero_subtitle;
      document.getElementById('problem-title').textContent = config.problem_title || defaultConfig.problem_title;
      document.getElementById('data-title').textContent = config.data_title || defaultConfig.data_title;
      document.getElementById('clusters-title').textContent = config.clusters_title || defaultConfig.clusters_title;
      document.getElementById('impact-title').textContent = config.impact_title || defaultConfig.impact_title;
      document.getElementById('footer-text').textContent = config.footer_text || defaultConfig.footer_text;
    }

    function mapToCapabilities(config) {
      return {
        recolorables: [
          {
            get: () => config.background_color || defaultConfig.background_color,
            set: (value) => {
              config.background_color = value;
              if (window.elementSdk) {
                window.elementSdk.setConfig({ background_color: value });
              }
            }
          },
          {
            get: () => config.surface_color || defaultConfig.surface_color,
            set: (value) => {
              config.surface_color = value;
              if (window.elementSdk) {
                window.elementSdk.setConfig({ surface_color: value });
              }
            }
          },
          {
            get: () => config.text_color || defaultConfig.text_color,
            set: (value) => {
              config.text_color = value;
              if (window.elementSdk) {
                window.elementSdk.setConfig({ text_color: value });
              }
            }
          },
          {
            get: () => config.accent_color || defaultConfig.accent_color,
            set: (value) => {
              config.accent_color = value;
              if (window.elementSdk) {
                window.elementSdk.setConfig({ accent_color: value });
              }
            }
          },
          {
            get: () => config.secondary_text_color || defaultConfig.secondary_text_color,
            set: (value) => {
              config.secondary_text_color = value;
              if (window.elementSdk) {
                window.elementSdk.setConfig({ secondary_text_color: value });
              }
            }
          }
        ],
        borderables: [],
        fontEditable: {
          get: () => config.font_family || defaultConfig.font_family,
          set: (value) => {
            config.font_family = value;
            if (window.elementSdk) {
              window.elementSdk.setConfig({ font_family: value });
            }
          }
        },
        fontSizeable: {
          get: () => config.font_size || defaultConfig.font_size,
          set: (value) => {
            config.font_size = value;
            if (window.elementSdk) {
              window.elementSdk.setConfig({ font_size: value });
            }
          }
        }
      };
    }

    function mapToEditPanelValues(config) {
      return new Map([
        ['hero_title', config.hero_title || defaultConfig.hero_title],
        ['hero_subtitle', config.hero_subtitle || defaultConfig.hero_subtitle],
        ['problem_title', config.problem_title || defaultConfig.problem_title],
        ['data_title', config.data_title || defaultConfig.data_title],
        ['clusters_title', config.clusters_title || defaultConfig.clusters_title],
        ['impact_title', config.impact_title || defaultConfig.impact_title],
        ['footer_text', config.footer_text || defaultConfig.footer_text]
      ]);
    }

    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities,
        mapToEditPanelValues
      });
    }
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'99c71e2d15b70605',t:'MTc2Mjc5NDE0OS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>